<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palindrome</title>
    <script>

      function palCheck () {
        let userInput = String(document.getElementById("userInput").value);
        let inputLen = userInput.length;
        let centerIndex = Math.floor(inputLen / 2);
        // console.log(inputLen, centerIndex)
        if (inputLen % 2 == 0) {
          document.getElementById("result").innerHTML = `회문은 홀수단어로 구성됩니다. 다시 입력해주세요 <br>`;
        } else {
          for (let i = 0; i < centerIndex; i++) {
              console.log(i, userInput[i])
              for (let j = inputLen - 1; j > centerIndex; j--){
                if(userInput[i] != userInput[j]){
                  console.log(j, userInput[j]);
                  document.getElementById("result").innerHTML = `회문이 아니네요. 다시 입력 해보시겠어요? <br>`;
                } else {
                  document.getElementById("result").innerHTML = `회문이 맞습니다!! <br>`;
                }
              }
            }
          } 
        // setInterval(function(){
        //   location.reload(userInput);
        // }, 3000);
      }
    </script>
    <style>
      input:invalid + span::after {
        position: absolute;
        content: "✖";
        padding-left: 5px;
      }
      input:valid + span::after {
        position: absolute;
        content: "✓";
        padding-left: 5px;
      }
    </style>
  </head>
  <body>
    <div class="container">
        <input type="text" name="" id="userInput" onchange="palCheck()" minlength="3">
        <span class="validity"></span>
        <!-- <button onclick="palCheck()">결과</button> -->
        <div id="result"></div>
    </div>
  </body>
</html>